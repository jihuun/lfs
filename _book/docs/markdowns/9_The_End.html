
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>9. The End Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="pilfs/pilfs.html" />
    
    
    <link rel="prev" href="8_Making_the_LFS_System_Bootable.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Linux From Scratch
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="0_Preface.html">
            
                <a href="0_Preface.html">
            
                    
                    0. Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="1_Introduction.html">
            
                <a href="1_Introduction.html">
            
                    
                    1. Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="2_Preparing_a_New_Partition.html">
            
                <a href="2_Preparing_a_New_Partition.html">
            
                    
                    2. Preparing a New Partition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="3_Packages_and_Patches.html">
            
                <a href="3_Packages_and_Patches.html">
            
                    
                    3. Packages and Patches
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="4_Final_Preparations.html">
            
                <a href="4_Final_Preparations.html">
            
                    
                    4. Final Preparations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="5_Constructing_a_Temporary_System.html">
            
                <a href="5_Constructing_a_Temporary_System.html">
            
                    
                    5. Constructing a Temporary System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="6_1_Installing_Basic_System_Software.html">
            
                <a href="6_1_Installing_Basic_System_Software.html">
            
                    
                    6. Installing Basic System Software (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="6_2_Installing_Basic_System_Software.html">
            
                <a href="6_2_Installing_Basic_System_Software.html">
            
                    
                    6. Installing Basic System Software (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="6_3_Installing_Basic_System_Software.html">
            
                <a href="6_3_Installing_Basic_System_Software.html">
            
                    
                    6. Installing Basic System Software (3)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="6_4_Installing_Basic_System_Software.html">
            
                <a href="6_4_Installing_Basic_System_Software.html">
            
                    
                    6. Installing Basic System Software (4)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="7_System_Configuration_and_Bootscripts.html">
            
                <a href="7_System_Configuration_and_Bootscripts.html">
            
                    
                    7. System Configuration and Bootscripts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="8_Making_the_LFS_System_Bootable.html">
            
                <a href="8_Making_the_LFS_System_Bootable.html">
            
                    
                    8. Making the LFS System Bootable
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.13" data-path="9_The_End.html">
            
                <a href="9_The_End.html">
            
                    
                    9. The End
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="pilfs/pilfs.html">
            
                <a href="pilfs/pilfs.html">
            
                    
                    10. LFS on RaspberryPI
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="pakages.html">
            
                <a href="pakages.html">
            
                    
                    Appendix: pakages
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >9. The End</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="9-the-end">9. The End</h2>
<!-- toc -->
<ul>
<li><a href="#91-the-end">9.1. The End</a></li>
<li><a href="#92-get-counted">9.2. Get Counted</a></li>
<li><a href="#93-rebooting-the-system">9.3. Rebooting the System</a></li>
<li><a href="#94-what-now">9.4. What Now?</a></li>
<li><a href="#95-%EC%B6%94%EA%B0%80-%EC%84%A4%EC%A0%95">9.5. &#xCD94;&#xAC00; &#xC124;&#xC815;.</a></li>
<li><a href="#96-%EB%82%B4%EA%B0%80%EB%A7%8C%EB%93%A0-lfs%EB%A5%BC-usb%EB%A1%9C-%EB%B6%80%ED%8C%85%EA%B0%80%EB%8A%A5%ED%95%98%EA%B2%8C-%EB%A7%8C%EB%93%A4%EA%B8%B0">9.6 &#xB0B4;&#xAC00;&#xB9CC;&#xB4E0; LFS&#xB97C; USB&#xB85C; &#xBD80;&#xD305;&#xAC00;&#xB2A5;&#xD558;&#xAC8C; &#xB9CC;&#xB4E4;&#xAE30;.</a><ul>
<li><a href="#fdisk--l-2015-05-05-raspbian-wheezyimg">fdisk -l 2015-05-05-raspbian-wheezy.img</a></li>
</ul>
</li>
<li><a href="#97-lfs-%ED%8C%8C%EC%9D%BC%EC%8B%9C%EC%8A%A4%ED%85%9C-ramdisk%EB%A1%9C-%EC%95%95%EC%B6%95%ED%95%98%EC%97%AC-%EB%B6%80%ED%8C%85usb%EB%A7%8C%EB%93%A4%EA%B8%B0">9.7 LFS &#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C; Ramdisk&#xB85C; &#xC555;&#xCD95;&#xD558;&#xC5EC; &#xBD80;&#xD305;USB&#xB9CC;&#xB4E4;&#xAE30;.</a></li>
</ul>
<!-- tocstop -->
<h2 id="91-the-end">9.1. The End</h2>
<p>&#xC774;&#xC81C; &#xC0C8;&#xB85C;&#xC6B4; custom LFS&#xC2DC;&#xC2A4;&#xD15C;&#xC774; &#xC644;&#xC804;&#xD788; &#xC124;&#xCE58;&#xB418;&#xC5C8;&#xB2E4;.   </p>
<ul>
<li><strong>release &#xB178;&#xD2B8; &#xD30C;&#xC77C;&#xC0DD;&#xC131;</strong>    </li>
</ul>
<pre><code class="lang-sh"><span class="hljs-built_in">echo</span> 7.7 &gt; /etc/lfs-release
</code></pre>
<ul>
<li><strong>&#xC2DC;&#xC2A4;&#xD15C; &#xC0C1;&#xD0DC; &#xBCF4;&#xC5EC;&#xC8FC;&#xB294; &#xD30C;&#xC77C; &#xC0DD;&#xC131;</strong>    </li>
</ul>
<pre><code class="lang-sh">cat &gt; /etc/lsb-release &lt;&lt; <span class="hljs-string">&quot;EOF&quot;</span>  
DISTRIB_ID=<span class="hljs-string">&quot;Linux From Scratch&quot;</span>  
DISTRIB_RELEASE=<span class="hljs-string">&quot;7.7&quot;</span>  
DISTRIB_CODENAME=<span class="hljs-string">&quot;&lt;your name here&gt;&quot;</span>  
DISTRIB_DESCRIPTION=<span class="hljs-string">&quot;Linux From Scratch&quot;</span>  
EOF
</code></pre>
<h2 id="92-get-counted">9.2. Get Counted</h2>
<p>Register&#xD558;&#xAE30;.<br><a href="http://www.linuxfromscratch.org/cgi-bin/lfscounter.php" target="_blank">http://www.linuxfromscratch.org/cgi-bin/lfscounter.php</a>   </p>
<pre><code>Records 101 &#x2013; 200 of 177  

LFS ID    Name            First LFS Version  
25608    Roberto Rodriguez Jr    7.7  
25609    Moli            7.7  
25610    Gerhard            7.7  
25611    Ji-Hun Kim        7.7
</code></pre><p>Let`s reboot into LFS now.  </p>
<h2 id="93-rebooting-the-system">9.3. Rebooting the System</h2>
<p>shutdown -r now  </p>
<h2 id="94-what-now">9.4. What Now?</h2>
<p>BLFS or piLFS?  </p>
<h2 id="95-&#xCD94;&#xAC00;-&#xC124;&#xC815;">9.5. &#xCD94;&#xAC00; &#xC124;&#xC815;.</h2>
<h3 id="bash-&#xC258;-&#xD504;&#xB86C;&#xD504;&#xD2B8;-&#xBAA8;&#xC591;-&#xBC14;&#xAFB8;&#xAE30;">bash &#xC258; &#xD504;&#xB86C;&#xD504;&#xD2B8; &#xBAA8;&#xC591; &#xBC14;&#xAFB8;&#xAE30;</h3>
<p>&#xD604;&#xC7AC; <code>-bash-4.3.3 $</code> &#xC774;&#xB807;&#xAC8C; &#xB418;&#xC5B4;&#xC788;&#xC74C;.<br>echo $PS1 &#xD574;&#xBCF4;&#xBA74; <code>PS1=&quot;-\s-\v$ &quot;</code> &#xC774;&#xB807;&#xAC8C; &#xB098;&#xC640;&#xC11C; &#xADF8;&#xB807;&#xB2E4;<br>PS1 &#xD658;&#xACBD;&#xBCC0;&#xC218;&#xB97C; &#xC218;&#xC815;&#xD574;&#xC57C;&#xD55C;&#xB2E4;.<br>&#xCC38;&#xACE0;  <a href="http://webdir.tistory.com/105" target="_blank">http://webdir.tistory.com/105</a>   </p>
<p>&#xD604;&#xC7AC; LFS&#xC2DC;&#xC2A4;&#xD15C;&#xC5D0;&#xB294; root&#xACC4;&#xC815;&#xBC16;&#xC5D0; &#xC5C6;&#xC73C;&#xB2C8; root&#xC758; &#xD648; &#xB514;&#xB809;&#xD1A0;&#xB9AC;&#xC778; /root/&#xBC11;&#xC5D0;<br>.bashrc &#xD30C;&#xC77C;&#xC744; &#xB9CC;&#xB4E4;&#xC5B4; &#xC544;&#xB798;&#xC640;&#xAC19;&#xC774; &#xD658;&#xACBD;&#xBCC0;&#xC218; &#xC14B;&#xD305;&#xC744; &#xD574;&#xC8FC;&#xBA74;&#xB428;.<br>&#xCC38;&#xACE0; <a href="http://superuser.com/questions/268460/wheres-bashrc-for-root" target="_blank">http://superuser.com/questions/268460/wheres-bashrc-for-root</a>  </p>
<ul>
<li><strong>/root/.bashrc&#xD30C;&#xC77C;&#xC5D0; &#xC544;&#xB798;&#xC640;&#xAC19;&#xC774; &#xC785;&#xB825;</strong>  </li>
</ul>
<pre><code class="lang-sh"><span class="hljs-built_in">export</span> PS1=<span class="hljs-string">&quot;\u@\h:\w\$ &quot;</span>
</code></pre>
<blockquote>
<p>\u : user&#xACC4;&#xC815;&#xBA85;<br>\h : host name<br>\w : full path<br>$ : $&#xBAA8;&#xC591; &#xD45C;&#xC2DC; (\$ : root&#xC77C;&#xB54C; #&#xC73C;&#xB85C; &#xBC14;&#xAFD4;&#xC90C;)  </p>
</blockquote>
<ul>
<li><strong>&#xADF8; &#xB4A4; bashrc &#xC801;&#xC6A9;</strong>  </li>
</ul>
<pre><code class="lang-sh"> $ <span class="hljs-built_in">source</span> /root/.bashrc
</code></pre>
<blockquote>
<p>&#xC5EC;&#xAE30;&#xC5D0;&#xD558;&#xBA74; &#xC7AC;&#xBD80;&#xD305;&#xD560;&#xB54C;&#xB9C8;&#xB2E4; &#xC801;&#xC6A9;&#xD574;&#xC918;&#xC57C;&#xD568;.<br>/etc/profile &#xC5D0; &#xC368;&#xC8FC;&#xBA74;  &#xC7AC;&#xBD80;&#xD305;&#xC2DC; &#xBC14;&#xB85C; &#xC801;&#xC6A9;&#xB428;.  </p>
</blockquote>
<h2 id="96-&#xB0B4;&#xAC00;&#xB9CC;&#xB4E0;-lfs&#xB97C;-usb&#xB85C;-&#xBD80;&#xD305;&#xAC00;&#xB2A5;&#xD558;&#xAC8C;-&#xB9CC;&#xB4E4;&#xAE30;">9.6 &#xB0B4;&#xAC00;&#xB9CC;&#xB4E0; LFS&#xB97C; USB&#xB85C; &#xBD80;&#xD305;&#xAC00;&#xB2A5;&#xD558;&#xAC8C; &#xB9CC;&#xB4E4;&#xAE30;.</h2>
<h3 id="961-&#xBC30;&#xACBD;-&#xBC0F;-&#xC0AC;&#xC804;&#xC870;&#xC0AC;">9.6.1. &#xBC30;&#xACBD; &#xBC0F; &#xC0AC;&#xC804;&#xC870;&#xC0AC;</h3>
<p>lfs&#xD604;&#xC7AC; &#xC0C1;&#xD0DC;&#xB97C; mkisofs  &#xB97C; &#xC774;&#xC6A9;&#xD574; .iso &#xD30C;&#xC77C;&#xB85C; &#xB9CC;&#xB4E4;&#xACE0;<br>USB&#xC5D0; grub&#xC744; &#xC124;&#xCE58;&#xD558;&#xACE0; MBR? &#xB85C; &#xC124;&#xC815;&#xD558;&#xC5EC; &#xBD80;&#xD305;&#xAC00;&#xB2A5;&#xD558;&#xAC8C; &#xD558;&#xBA74; &#xB418;&#xB824;&#xB098;?<br>&#xC77C;&#xB2E8; &#xC544;&#xBB34; &#xD3F4;&#xB354;&#xB97C; iso&#xB85C; &#xB9CC;&#xB4E4;&#xACE0; mount&#xD558;&#xB2C8;&#xAE4C; &#xD30C;&#xC77C; &#xADF8;&#xB300;&#xB85C; &#xBCFC;&#xC218; &#xC788;&#xC5C8;&#xC74C;.  </p>
<ul>
<li><strong>iso&#xC0DD;&#xC131; &#xBC0F; mount&#xD14C;&#xC2A4;&#xD2B8;</strong>  </li>
</ul>
<pre><code class="lang-sh"> $ mkisofs -r -V <span class="hljs-string">&quot;test ISO&quot;</span> -o iso_<span class="hljs-built_in">test</span>_vimdic.iso ~/Downloads/vimdic-master
 $ sudo mount -o loop ~/Downloads/iso_<span class="hljs-built_in">test</span>_vimdic.iso /mnt/<span class="hljs-built_in">test</span>_iso/
</code></pre>
<p><a href="http://www.linuxquestions.org/questions/linux-from-scratch-13/booting-lfs-from-usb-stick-897465/" target="_blank">http://www.linuxquestions.org/questions/linux-from-scratch-13/booting-lfs-from-usb-stick-897465/</a><br>&#xC77C;&#xBC18;&#xC801;&#xC778;&#xBC29;&#xBC95;<br><a href="http://www.pendrivelinux.com/boot-multiple-iso-from-usb-via-grub2-using-linux/" target="_blank">http://www.pendrivelinux.com/boot-multiple-iso-from-usb-via-grub2-using-linux/</a><br><a href="http://www.pendrivelinux.com/install-grub2-on-usb-from-ubuntu-linux/" target="_blank">http://www.pendrivelinux.com/install-grub2-on-usb-from-ubuntu-linux/</a>  </p>
<p>ISO &#xC774;&#xBBF8;&#xC9C0; &#xB9CC;&#xB4E4;&#xAE30;.<br><a href="http://idchowto.com/index.php/linux%EC%97%90%EC%84%9C-iso-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0-mkisofs/" target="_blank">http://idchowto.com/index.php/linux%EC%97%90%EC%84%9C-iso-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0-mkisofs/</a></p>
<p>&#xCC38;&#xACE0; &#xBE14;&#xB85C;&#xADF8;<br><a href="http://blog.daum.net/bagjunggyu/118" target="_blank">http://blog.daum.net/bagjunggyu/118</a>
<a href="http://bagjunggyu.blogspot.kr/2014/04/ubuntu-1404-lts-usb.html" target="_blank">http://bagjunggyu.blogspot.kr/2014/04/ubuntu-1404-lts-usb.html</a></p>
<h3 id="962-usb&#xC5D0;-grub-&#xC124;&#xCE58;-&#xD14C;&#xC2A4;&#xD2B8;">9.6.2. USB&#xC5D0; GRUB &#xC124;&#xCE58; &#xD14C;&#xC2A4;&#xD2B8;</h3>
<p><a href="http://www.pendrivelinux.com/boot-multiple-iso-from-usb-via-grub2-using-linux/" target="_blank">http://www.pendrivelinux.com/boot-multiple-iso-from-usb-via-grub2-using-linux/</a>
&#xB530;&#xB77C;&#xC11C; USB&#xC5D0; Grub&#xC124;&#xCE58;&#xD558;&#xAE30;.</p>
<p><code>(&#xCC38;&#xACE0;)</code> dd &#xC640; mkisofs&#xB85C; ISO &#xD30C;&#xC77C; &#xB9CC;&#xB4E4;&#xAE30;.  </p>
<blockquote>
<ul>
<li><strong>mkisofs &#xC774;&#xC6A9;</strong>   </li>
</ul>
<pre><code class="lang-sh"> $ mount -v -t ext4 /dev/sdb5 /mnt/lfs
 $ mkisofs -r -V <span class="hljs-string">&quot;test ISO&quot;</span> -o lfs-7-7.iso /mnt/lfs
</code></pre>
<p>&#xB098;&#xC911;&#xC5D0; iso&#xB97C; mount &#xD560;&#xB54C;&#xB294; mount -t ext4 &#xC635;&#xC158;&#xC73C;&#xB85C; mount&#xAC00; &#xC548;&#xB418;&#xACE0; -o loop&#xB85C;
mount &#xD574;&#xC57C;&#xD568;.<br>lfs iso&#xC774;&#xBBF8;&#xC9C0;&#xB294; &#xC774;&#xB807;&#xAC8C; &#xB9CC;&#xB4E6;.  </p>
<ul>
<li><strong>dd &#xC774;&#xC6A9;</strong>   </li>
</ul>
<pre><code class="lang-sh"> $ dd <span class="hljs-keyword">if</span>=/dev/sdb5 of=lfs-7-7.iso
</code></pre>
<ul>
<li><strong>&#xC77C;&#xBC18;&#xC801;&#xC778; iso &#xAD00;&#xB828; &#xC0AC;&#xC6A9;&#xBC95;?</strong>   </li>
</ul>
<pre><code>files -&gt; iso        $ mkisofs -o image.iso &lt;pathlist&gt;
view iso        $ mount image.iso -o loop &lt;dirname&gt;
iso -&gt; CD        $ cdrecord -v -eject dev=&lt;i,j,k&gt; image.iso
CD -&gt; iso        $ dd if=/dev/cdrom of=image.iso
</code></pre></blockquote>
<h3 id="963-&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;-&#xD1B5;&#xC9F8;&#xB85C;-&#xBCF5;&#xC0AC;&#xD558;&#xC5EC;-usb-&#xBD80;&#xD305;-&#xD558;&#xAE30;">9.6.3. &#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C; &#xD1B5;&#xC9F8;&#xB85C; &#xBCF5;&#xC0AC;&#xD558;&#xC5EC; USB &#xBD80;&#xD305; &#xD558;&#xAE30;</h3>
<p>&#xC544;&#xB798;&#xB300;&#xB85C; &#xB530;&#xB77C;&#xD574;&#xC11C; usb&#xC5D0; grub&#xC73C;&#xB85C; &#xBD80;&#xD305; &#xC131;&#xACF5;&#xD568;. 
//iso&#xB97C; &#xB85C;&#xB529;&#xD558;&#xB294; grub&#xC124;&#xC815; &#xBC29;&#xBC95;&#xC740; &#xCD94;&#xD6C4; &#xD655;&#xC778;.  </p>
<h4 id="1-format-your-usb-flash-drive-to-use-a-single-partition">(1). Format your USB Flash Drive to use a Single Partition:</h4>
<pre><code class="lang-sh">
Open a terminal and <span class="hljs-built_in">type</span> sudo su
 $ fdisk <span class="hljs-_">-l</span> (and note <span class="hljs-built_in">which</span> device is your USB Drive)
 $ fdisk /dev/sdx (replacing x with your actual usb device)
    Type d (to delete the existing partition)
    Type n (to create a new partition)
    Type p (<span class="hljs-keyword">for</span> primary partition)
    Type 1 (to create the first partition)
    Press Enter (to use the first cylinder)
    Press Enter again (to use the default value as the last cylinder)
    Type a (<span class="hljs-keyword">for</span> active)
    Type 1 (to mark the first partition active <span class="hljs-string">&quot;bootable&quot;</span>)
    Type t (<span class="hljs-keyword">for</span> partition <span class="hljs-built_in">type</span>)
    Type 83 (to use linux partition)
    Type w (to write the changes and close fdisk)
</code></pre>
<blockquote>
<p><code>(&#xC8FC;&#xC758;)</code>  fdisk /dev/sdx  sdx1 &#xC774; &#xC544;&#xB2C8;&#xB77C; sdx &#xC784;.  </p>
</blockquote>
<h4 id="2-create-a-ext4-filesystem-on-the-usb-flash-drive">(2). Create a ext4 filesystem on the USB flash drive:</h4>
<pre><code class="lang-sh">sudo umount /dev/sdc1 (or whatever your usb is)
sudo mkfs.ext4 /dev/sdc1
</code></pre>
<h4 id="3-install-grub2-on-the-usb-flash-drive">(3). Install Grub2 on the USB Flash Drive:</h4>
<pre><code class="lang-sh">mkdir /mnt/USB &amp;&amp; mount /dev/sdx1 /mnt/USB (replacing x with your actual usb device)

grub-install --force --no-floppy --boot-directory=/mnt/USB/boot /dev/sdx
(replacing x with your actual USB device)

<span class="hljs-built_in">cd</span> /mnt/USB/boot/grub (to change directory)
wget pendrivelinux.com/downloads/grub.cfg
</code></pre>
<blockquote>
<p><code>(&#xC8FC;&#xC758;)</code> grub-install &#xC124;&#xCE58; &#xC635;&#xC158;&#xC5D0;  /dev/sdx &#xC784;&#xC744; &#xC8FC;&#xC758;
&#xC774;&#xB807;&#xAC8C;&#xD558;&#xBA74; USB&#xB85C; &#xC7AC;&#xBD80;&#xD305;&#xC2DC; grub&#xD654;&#xBA74;&#xC774; &#xBCF4;&#xC784;.  </p>
</blockquote>
<h4 id="4-lfs-&#xB8E8;&#xD2B8;&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;-usb&#xB85C;-&#xD1B5;&#xC9F8;&#xB85C;-&#xBCF5;&#xC0AC;">(4). LFS &#xB8E8;&#xD2B8;&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C; USB&#xB85C; &#xD1B5;&#xC9F8;&#xB85C; &#xBCF5;&#xC0AC;</h4>
<pre><code class="lang-sh"> $ mount /dev/sdc1 /mnt/USB
 $ mount /dev/sdb5 /mnt/lfs
 $ <span class="hljs-built_in">cd</span> /mnt/lfs
 $ cp -avp bin/ dev/ etc/ home/ lib/ lib64 media/ mnt/ opt/ proc/ root/ run/ sbin/ sources/ srv/ sys/ tmp/ usr/ var/ /mnt/USB/
 $ cp boot/* /mnt/USB/boot/
</code></pre>
<blockquote>
<p>iso&#xB85C;&#xB529; &#xB300;&#xC2E0; &#xC774;&#xBC29;&#xBC95; &#xC0AC;&#xC6A9;.  </p>
</blockquote>
<h4 id="5-grubcfg-&#xC218;&#xC815;">(5). grub.cfg &#xC218;&#xC815;.</h4>
<pre><code class="lang-sh">cat &gt; boot/grub/grub.cfg &lt;&lt; <span class="hljs-string">&quot;EOF&quot;</span>
<span class="hljs-comment">## Begin /boot/grub/grub.cfg</span>
<span class="hljs-built_in">set</span> default=0
<span class="hljs-built_in">set</span> timeout=5

insmod ext2
<span class="hljs-built_in">set</span> root=(hd0,1)

menuentry <span class="hljs-string">&quot;GNU/Linux, Linux 3.19-lfs-7.7&quot;</span> {
            linux   /boot/vmlinuz-3.19-lfs-7.7 root=/dev/sdc1 ro
}
EOF
</code></pre>
<blockquote>
<p>(hd0,1) USB&#xC758; &#xCCAB;&#xBC88;&#xC9F8; &#xD30C;&#xD2F0;&#xC158;&#xC774;&#xBBC0;&#xB85C; 1&#xC784;.<br>root=/dev/sdc1 &#xC73C;&#xB85C; &#xC218;&#xC815;  </p>
<p><a href="http://linuxfromscratch.org/lfs/view/stable/chapter08/grub.html" target="_blank">http://linuxfromscratch.org/lfs/view/stable/chapter08/grub.html</a>  </p>
<p>&#xC5EC;&#xAE30;&#xAE4C;&#xC9C0;&#xD558;&#xBA74; &#xAC00;&#xAE4C;&#xC2A4;&#xB85C; &#xBD80;&#xD305;&#xC740; &#xB428;.
&#xD558;&#xC9C0;&#xB9CC; &#xC911;&#xAC04;&#xC5D0; &#xBD80;&#xD305;&#xC774; &#xBA48;&#xCDA4;.  </p>
</blockquote>
<h4 id="6-initrd-&#xCD94;&#xAC00;">(6). initrd &#xCD94;&#xAC00;.</h4>
<ul>
<li>initrd &#xC774;&#xBBF8;&#xC9C0; HOST&#xC758; &#xAC83;&#xC73C;&#xB85C; &#xBCF5;&#xC0AC;</li>
</ul>
<pre><code class="lang-sh">cp  /boot/initrd.img-3.8.0-42-generic  /mnt/USB/boot/
</code></pre>
<blockquote>
<p>&#xC2E4;&#xC81C;&#xB85C;&#xB294; &#xCEE4;&#xB110;&#xC744; &#xBE4C;&#xB4DC;&#xD560;&#xB54C; config &#xC635;&#xC158;&#xC73C;&#xB85C; initrd&#xB97C; &#xC918;&#xC11C; &#xC0DD;&#xC131;&#xD55C; initrd&#xB97C; &#xCD94;&#xAC00;&#xD574;&#xC918;&#xC57C;&#xD560;&#xB4EF;  </p>
</blockquote>
<ul>
<li>grub.cfg &#xC5D0; initrd&#xCD94;&#xAC00;  </li>
</ul>
<pre><code class="lang-patch">menuentry &quot;GNU/Linux, Linux 3.19-lfs-7.7&quot; {
        linux   /boot/vmlinuz-3.19-lfs-7.7 root=/dev/sdc1 ro
<span class="hljs-addition">+        initrd     /boot/initrd.img-3.8.0-42-generic</span>
}
</code></pre>
<p>&#xC5EC;&#xAE30;&#xAE4C;&#xC9C0;&#xD558;&#xBA74; HOST PC&#xC5D0;&#xC11C; USB&#xB85C; &#xBD80;&#xD305;&#xC774; &#xB428;. &#xD558;&#xC9C0;&#xB9CC; &#xB2E4;&#xB978; PC&#xC5D0;&#xC11C; &#xBD80;&#xD305;&#xC548;&#xB428;. &#xC774;&#xC720;&#xB294;
&#xB2E4;&#xB978; PC&#xC5D0;&#xC11C;&#xB294; USB&#xAC00; grub&#xC5D0; &#xC9C0;&#xC815;&#xD55C; /dev/sdc1&#xC73C;&#xB85C; &#xB9C8;&#xC6B4;&#xD2B8; &#xB418;&#xC9C0; &#xC54A;&#xC744; &#xC218;&#xB3C4; &#xC788;&#xAE30;&#xB54C;&#xBB38;&#xC774;&#xB2E4;.<br>&#xB530;&#xB77C;&#xC11C; /dev/sdx&#xC758; &#xC808;&#xB300;&#xACBD;&#xB85C;&#xB97C; &#xC9C0;&#xC815;&#xD558;&#xB294;&#xAC8C; &#xC544;&#xB2C8;&#xB77C; UUID&#xB85C; &#xC9C0;&#xC815;&#xD558;&#xBA74; &#xC774; &#xBB38;&#xC81C;&#xB97C; &#xD574;&#xACB0;&#xD560; &#xC218; &#xC788;&#xC74C;.</p>
<p><code>(&#xCC3E;&#xC544;&#xBCF4;&#xAE30;)</code> initrd&#xB780;?</p>
<blockquote>
<p>initrd&#xB780; &#xB7A8;&#xB514;&#xC2A4;&#xD06C;&#xB97C; &#xC758;&#xBBF8;&#xD55C;&#xB2E4;.<br> &#xC555;&#xCD95;&#xC744; &#xD480;&#xACE0; &#xD655;&#xC778;&#xD558;&#xBA74;, &#xC791;&#xC740; &#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;&#xC774; &#xB4E4;&#xC5B4;&#xC788;&#xB2E4;.<br>initrd&#xB780; rd(ram disk)&#xC5D0; &#xBD80;&#xD305;&#xC5D0; &#xD544;&#xC694;&#xD55C; &#xCEE4;&#xB110;&#xC774;&#xBBF8;&#xC9C0;&#xB97C; &#xBBF8;&#xB9AC; &#xC124;&#xC815;&#xD574; &#xB193;&#xACE0;, &#xCEE4;&#xB110;&#xC744;
&#xD558;&#xB4DC;&#xB514;&#xC2A4;&#xD06C;&#xAC00; &#xC544;&#xB2CC; initrd&#xC5D0;&#xC11C; &#xC77D;&#xC5B4;&#xC628; &#xD6C4;, &#xADF8; &#xC774;&#xD6C4;&#xC5D0; &#xD558;&#xB4DC;&#xB514;&#xC2A4;&#xD06C;&#xC5D0;&#xC11C; &#xD544;&#xC694;&#xD55C; &#xBAA8;&#xB4C8;
&#xB4F1;&#xC744; &#xC77D;&#xC5B4;&#xC624;&#xAE30; &#xC704;&#xD574; &#xC0AC;&#xC6A9;, &#xC8FC;&#xB85C; &#xBC30;&#xD3EC;&#xD310;&#xC758; &#xAE30;&#xBCF8; &#xCEE4;&#xB110;&#xC5D0;&#xC11C; &#xC4F0;&#xC784;, &#xAC01;&#xAC01;&#xC758; &#xCEF4;&#xD4E8;&#xD130;&#xB9C8;&#xB2E4;
&#xAC01;&#xAE30; &#xB2E4;&#xB978; &#xD558;&#xB4DC;&#xB514;&#xC2A4;&#xD06C; &#xCEE8;&#xD2B8;&#xB864;&#xB7EC;&#xB97C; &#xC0AC;&#xC6A9;&#xD558;&#xACE0; &#xC788;&#xB294;&#xB370; &#xC774;&#xB4E4; &#xBAA8;&#xB450;&#xB97C; &#xCEE4;&#xB110;&#xC5D0; &#xD3EC;&#xD568;&#xD558;&#xAE30;&#xC5D0;&#xB294;
&#xC6A9;&#xB7C9;&#xC774; &#xB108;&#xBB34; &#xCEE4;&#xB108; initrd&#xC5D0; &#xCD5C;&#xC18C;&#xD55C;&#xC758; &#xAC83;&#xB4E4;&#xB9CC; &#xAC16;&#xCD98; &#xCEE4;&#xB110;&#xC744; &#xB123;&#xACE0;, &#xCEE4;&#xB110;&#xC774; &#xBD80;&#xD305;&#xD55C;
&#xC774;&#xD6C4;&#xC5D0; &#xC801;&#xC808;&#xD55C; &#xD558;&#xB4DC;&#xB514;&#xC2A4;&#xD06C; &#xCEE8;&#xD2B8;&#xB864;&#xB7EC; &#xB4DC;&#xB77C;&#xC774;&#xBC84;&#xB97C; &#xC77D;&#xB3C4;&#xB85D; &#xD558;&#xAE30; &#xC704;&#xD568;&#xC784;)
&#xD544;&#xC694;&#xD55C; &#xC774;&#xC720;<br>&#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC740; &#xC0C1;&#xD669;&#xC5D0; &#xD544;&#xC694;  </p>
<ol>
<li>SCSI &#xD558;&#xB4DC;&#xB514;&#xC2A4;&#xD06C; &#xC7A5;&#xCE58;&#xB9CC; &#xAC00;&#xC9C0;&#xACE0; &#xC788;&#xB2E4;.  </li>
<li>&#xCEE4;&#xB110; &#xC774;&#xBBF8;&#xC9C0;&#xC5D0;&#xB294; SCSI &#xAE30;&#xB2A5;&#xC774; &#xB4E4;&#xC5B4; &#xC788;&#xC9C0; &#xC54A;&#xB2E4;.  </li>
<li>SCSI &#xAE30;&#xB2A5;&#xC740; &#xBAA8;&#xB4C8;&#xB85C; &#xCC98;&#xB9AC;&#xB418;&#xC5B4; &#xC788;&#xB2E4;.<br>&#xCEE4;&#xB110;&#xC774; &#xBD80;&#xD305;&#xD558;&#xBA74;&#xC11C; SCSI &#xD558;&#xB4DC; &#xB514;&#xC2A4;&#xD06C;&#xB97C; &#xC77D;&#xC5B4;&#xC57C; &#xD558;&#xB294;&#xB370;, &#xCEE4;&#xB110;&#xC5D0;&#xB294; SCSI &#xAE30;&#xB2A5;&#xC774;
&#xB4E4;&#xC5B4;&#xC788;&#xC9C0; &#xC54A;&#xB2E4;.<br>SCSI &#xAE30;&#xB2A5;&#xC774; &#xC5C6;&#xC73C;&#xBBC0;&#xB85C;(&#xC544;&#xC9C1; &#xC62C;&#xB77C;&#xC624;&#xC9C0; &#xC54A;&#xC74C;) SCSI &#xD558;&#xB4DC;&#xB514;&#xC2A4;&#xD06C;&#xB97C; &#xC77D;&#xC744; &#xC218;&#xAC00; &#xC5C6;&#xB2E4;.<br>&#xADF8;&#xB798;&#xC11C; &#xD328;&#xB2C9;&#xC774; &#xC0DD;&#xAE34;&#xB2E4;.<br><a href="http://egloos.zum.com/gimgimal/v/1246071" target="_blank">http://egloos.zum.com/gimgimal/v/1246071</a><br><a href="http://icecreamie.tistory.com/m/post/13" target="_blank">http://icecreamie.tistory.com/m/post/13</a>  </li>
</ol>
</blockquote>
<h5 id="7-usb&#xC758;-uuid-&#xC124;&#xC815;&#xD558;&#xAE30;">(7) USB&#xC758; UUID &#xC124;&#xC815;&#xD558;&#xAE30;.</h5>
<p>&#xBAA8;&#xB4E0; PC&#xC5D0;&#xC11C; &#xBD80;&#xD305; &#xAC00;&#xB2A5;&#xD574;&#xC9D0;.</p>
<p>root=UUID= (16&#xC9C4;&#xC218; &#xC8FC;&#xC18C;)<br>blkid &#xB85C; UUID&#xD655;&#xC778;  </p>
<ul>
<li>grub.cfg &#xC218;&#xC815;.</li>
</ul>
<pre><code class="lang-patch">menuentry &quot;GNU/Linux, Linux 3.19-lfs-7.7&quot; {
<span class="hljs-deletion">-            linux   /boot/vmlinuz-3.19-lfs-7.7 root=/dev/sdc1 ro</span>
<span class="hljs-addition">+            linux   /boot/vmlinuz-3.19-lfs-7.7 root=UUID=c8124732-5693-4f0e-8dec-cff6508173df ro</span>
        initrd     /boot/initrd.img-3.8.0-42-generic
}
</code></pre>
<ul>
<li>/etc/fstab &#xC758; root&#xD30C;&#xC77C; &#xC2DC;&#xC2A4;&#xD15C;&#xC758; mount point&#xB97C; USB&#xC758; UUID&#xB85C; &#xC218;&#xC815;   </li>
</ul>
<pre><code class="lang-patch"><span class="hljs-deletion">- /dev/sdb5      /            ext4     defaults            1     1</span>
<span class="hljs-addition">+ UUID=c8124732-5693-4f0e-8dec-cff6508173df      /    ext4     defaults 1     1</span>
</code></pre>
<blockquote>
<p>fstab&#xC740; &#xBD80;&#xD305;&#xC2DC; &#xB514;&#xD3F4;&#xD2B8;&#xB85C; &#xB9C8;&#xC6B4;&#xD2B8;&#xD560; &#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;&#xC744; &#xAE30;&#xC220;&#xD558;&#xB294; &#xD30C;&#xC77C;&#xC774;&#xB2E4;.<br>&#xB8E8;&#xD2B8;(/)&#xD30C;&#xC77C; &#xC2DC;&#xC2A4;&#xD15C;&#xC740; USB&#xC790;&#xCCB4;&#xB97C; &#xB9C8;&#xC6B4;&#xD2B8; &#xD558;&#xC5EC; &#xC0AC;&#xC6A9;&#xD558;&#xBBC0;&#xB85C; USB&#xC758; &#xACBD;&#xB85C;&#xB85C; &#xC9C0;&#xC815;&#xD574;&#xC918;&#xC57C;&#xD568;.<br>/dev/sdx &#xB85C;&#xD574;&#xB3C4;&#xB418;&#xC9C0;&#xB9CC; UUID&#xB85C; &#xBCC0;&#xACBD;  </p>
</blockquote>
<h3 id="964-&#xCD94;&#xAC00;-&#xD655;&#xC778;&#xD574;&#xBCFC;-&#xC0AC;&#xD56D;&#xB4E4;">9.6.4. &#xCD94;&#xAC00; &#xD655;&#xC778;&#xD574;&#xBCFC; &#xC0AC;&#xD56D;&#xB4E4;.</h3>
<p><code>(&#xCC3E;&#xC544;&#xBCF4;&#xAE30;)</code> grub.cfg &#xC124;&#xC815;&#xBC29;&#xBC95; &#xCC3E;&#xC544;&#xBCF4;&#xAE30;
<a href="http://www.normalesup.org/~george/comp/live_iso_usb/" target="_blank">http://www.normalesup.org/~george/comp/live_iso_usb/</a></p>
<p><code>(&#xCC38;&#xACE0;)</code> .img &#xD30C;&#xC77C; &#xB9C8;&#xC6B4;&#xD2B8;&#xD558;&#xAE30;.  </p>
<blockquote>
<p>&#xB77C;&#xC988;&#xBE44;&#xC548; img&#xB97C; &#xBC1B;&#xC544;&#xC11C; &#xB9C8;&#xC6B4;&#xD2B8; &#xD574;&#xBCF4;&#xAE30;.<br><a href="https://www.raspberrypi.org/downloads/" target="_blank">https://www.raspberrypi.org/downloads/</a><br>&#xCC38;&#xACE0; : <a href="http://www.meadhbh.org/mountraspianimages" target="_blank">http://www.meadhbh.org/mountraspianimages</a>  </p>
<ul>
<li><p><strong>fdisk&#xB85C; block &#xD655;&#xC778;?</strong>    </p>
<h1 id="fdisk--l-2015-05-05-raspbian-wheezyimg">fdisk -l 2015-05-05-raspbian-wheezy.img</h1>
</li>
</ul>
<pre><code>Disk 2015-05-05-raspbian-wheezy.img: 3276 MB, 3276800000 bytes  
255 heads, 63 sectors/track, 398 cylinders, total 6400000 sectors  
Units = sectors of 1 * 512 = 512 bytes  
Sector size (logical/physical): 512 bytes / 512 bytes  
I/O size (minimum/optimal): 512 bytes / 512 bytes  
Disk identifier: 0xa6202af7  

Device Boot      Start         End      Blocks   Id  System  
2015-05-05-raspbian-wheezy.img1            8192      122879       57344    c
W95 FAT32 (LBA)  
2015-05-05-raspbian-wheezy.img2          122880     6399999     3138560   83
Linux
</code></pre><ul>
<li><strong>loop&#xB85C; &#xB9C8;&#xC6B4;&#xD2B8;</strong>  </li>
</ul>
<pre><code> # mount 2015-05-05-raspbian-wheezy.img -o loop,offset=$((512 * 122880))
 /mnt/rasp/
 # mount 2015-05-05-raspbian-wheezy.img -o loop,offset=$((512 * 8192))
 /mnt/rasp0/
</code></pre><p>&#xC544;&#xB798;&#xAC83;&#xC774; /boot/&#xC5D0; &#xC788;&#xC5B4;&#xC57C;&#xD560; &#xBC14;&#xC774;&#xB108;&#xB9AC;&#xC778;&#xB4EF;.?  </p>
</blockquote>
<p><code>(&#xCC38;&#xACE0;)</code> raspbian sd card&#xC5D0; &#xC124;&#xCE58;&#xD558;&#xAE30;.  </p>
<pre><code class="lang-sh"> $ fdisk &#xBC0F; mkfs.ext4 &#xC774;&#xC6A9; sd card&#xD3EC;&#xB9F7;.
 $ dd bs=4M <span class="hljs-keyword">if</span>=2015-05-05-raspbian-wheezy.img of=/dev/sdx
</code></pre>
<p><a href="https://www.raspberrypi.org/documentation/installation/installing-images/linux.md" target="_blank">https://www.raspberrypi.org/documentation/installation/installing-images/linux.md</a>  </p>
<p><code>(&#xCC3E;&#xC544;&#xBCF4;&#xAE30;)</code>  /dev/sdc /dev/sdc1 &#xC758; &#xCC28;&#xC774;&#xB294;?<br><a href="https://www.google.co.kr/search?client=ubuntu&amp;channel=fs&amp;q=difrence+%2Fdev%2Fsdb+%2Fdev%2Fsdb1&amp;ie=utf-8&amp;oe=utf-8&amp;gfe_rd=cr&amp;ei=crDnVeGNJ-bC8AenvaCwBA" target="_blank">https://www.google.co.kr/search?client=ubuntu&amp;channel=fs&amp;q=difrence+%2Fdev%2Fsdb+%2Fdev%2Fsdb1&amp;ie=utf-8&amp;oe=utf-8&amp;gfe_rd=cr&amp;ei=crDnVeGNJ-bC8AenvaCwBA</a>  </p>
<p><code>(&#xCC3E;&#xC544;&#xBCF4;&#xAE30;)</code>  spindle &#xB77C;&#xC988;&#xBCA0;&#xB9AC;&#xD30C;&#xC774;&#xC5D0;&#xC11C;&#xC0AC;&#xC6A9;&#xD55C; &#xBD80;&#xD305;&#xC2DC;&#xC2A4;&#xD15C;?<br><a href="http://asbradbury.org/projects/spindle/" target="_blank">http://asbradbury.org/projects/spindle/</a>  </p>
<p><code>(&#xCC38;&#xACE0;)</code> pc &#xBD80;&#xD305; &#xACFC;&#xC815;  </p>
<ol>
<li>BIOS&#xB97C; &#xD1B5;&#xD574; &#xBD80;&#xD2B8;&#xB85C;&#xB354; &#xB85C;&#xB529;  </li>
<li>GRUBbootloader&#xB97C; &#xD1B5;&#xD574; &#xCEE4;&#xB110;&#xACFC; initrd&#xB97C; &#xB7A8;&#xC5D0; &#xC801;&#xC7AC;  </li>
<li>&#xCEE4;&#xB110; &#xB85C;&#xB529;&#xD6C4; initrd&#xB97C; &#xD1B5;&#xD574; root fileSystem&#xC744;  &#xC77D;&#xAE30;&#xB85C;  &#xB9C8;&#xC6B4;&#xD2B8;  </li>
<li>init.rc/mountfs &#xC2A4;&#xD06C;&#xB9BD;&#xD2B8;&#xB97C; &#xD1B5;&#xD574; root fileSystem &#xC77D;&#xAE30;&#xC4F0;&#xAE30;&#xB85C; &#xB2E4;&#xC2DC; &#xB9C8;&#xC6B4;&#xD2B8; (fstab &#xD30C;&#xC77C;&#xB85C;&#xB529; &#xB530;&#xB77C;&#xC11C; &#xC5EC;&#xAE30;&#xC5D0; &#xB9C8;&#xC6B4;&#xD2B8; &#xD3EC;&#xC9C0;&#xC158;&#xB3C4; &#xBCC0;&#xACBD;&#xC774; &#xD544;&#xC694;)  </li>
<li>&#xCD08;&#xAE30;&#xD654; &#xACFC;&#xC815; &#xC9C4;&#xD589;  </li>
</ol>
<p><code>(&#xCC3E;&#xC544;&#xBCF4;&#xAE30;)</code> pc&#xC640; &#xC784;&#xBCA0;&#xB514;&#xB4DC;&#xBCF4;&#xB4DC; bootloader&#xCC28;&#xC774;  </p>
<p><code>(&#xCC38;&#xACE0;)</code> &#xBD80;&#xD305;&#xAD00;&#xB828; &#xCC38;&#xACE0; &#xC0AC;&#xC774;&#xD2B8;<br>libe CD &#xB9CC;&#xB4E4;&#xAE30;. <a href="https://www.linux.co.kr/home/lecture/?leccode=113" target="_blank">https://www.linux.co.kr/home/lecture/?leccode=113</a><br>&#xB7A8;&#xB514;&#xC2A4;&#xD06C;&#xC758; &#xAD6C;&#xD604;&#xACFC; &#xC751;&#xC6A9;&#xD504;&#xB85C;&#xADF8;&#xB7A8; &#xC2E4;&#xD589;<br><a href="http://webcache.googleusercontent.com/search?q=cache:7T2WBL5-1QgJ:cfile3.uf.tistory.com/attach/11250D3B4EC36C442FDFED+&amp;cd=8&amp;hl=ko&amp;ct=clnk&amp;gl=kr" target="_blank">http://webcache.googleusercontent.com/search?q=cache:7T2WBL5-1QgJ:cfile3.uf.tistory.com/attach/11250D3B4EC36C442FDFED+&amp;cd=8&amp;hl=ko&amp;ct=clnk&amp;gl=kr</a>  </p>
<p><code>(&#xCC38;&#xACE0;)</code> initrd for LFS<br><a href="http://www.linuxfromscratch.org/hints/downloads/files/OLD/initrd.txt" target="_blank">http://www.linuxfromscratch.org/hints/downloads/files/OLD/initrd.txt</a>  </p>
<h2 id="97-lfs-&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;-ramdisk&#xB85C;-&#xC555;&#xCD95;&#xD558;&#xC5EC;-&#xBD80;&#xD305;usb&#xB9CC;&#xB4E4;&#xAE30;">9.7 LFS &#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C; Ramdisk&#xB85C; &#xC555;&#xCD95;&#xD558;&#xC5EC; &#xBD80;&#xD305;USB&#xB9CC;&#xB4E4;&#xAE30;.</h2>
<h3 id="971-&#xD30C;&#xC77C;-&#xC2DC;&#xC2A4;&#xD15C;-&#xB7A8;&#xB514;&#xC2A4;&#xD06C;&#xB85C;-&#xC555;&#xCD95;&#xD558;&#xAE30;">9.7.1 &#xD30C;&#xC77C; &#xC2DC;&#xC2A4;&#xD15C; &#xB7A8;&#xB514;&#xC2A4;&#xD06C;&#xB85C; &#xC555;&#xCD95;&#xD558;&#xAE30;</h3>
<pre><code class="lang-sh"><span class="hljs-variable">$dd</span> <span class="hljs-keyword">if</span>=/dev/zero of=ramdisk bs=1k count=1048576
<span class="hljs-variable">$mkfs</span>.ext4 ramdisk 
<span class="hljs-variable">$mkdir</span> /mnt/mnt_ramdisk
<span class="hljs-variable">$mount</span> ramdisk /mnt/mnt_ramdisk
<span class="hljs-variable">$cp</span> -avp /bin /etc /lib /mnt /proc /run /srv /tmp /var /dev /home /lib64 /media /opt /root /sbin /sys /usr /mnt/mnt_ramdisk  
<span class="hljs-variable">$umount</span> ramdisk
<span class="hljs-variable">$gzip</span> ramdisk
````````````````
</code></pre>
<p><code>(&#xCC38;&#xACE0;)</code><br>&#xBCF5;&#xC0AC;&#xD558;&#xB294; &#xB0B4;&#xC6A9;&#xC740; lfs &#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C; &#xD3F4;&#xB354;.<br>fstab &#xC218;&#xC815; &#xD544;&#xC694; /dev/ram0 &#xC774; &#xB8E8;&#xD2B8;&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C; &#xC704;&#xCE58;<br>/dev &#xC5D0; &#xC2DC;&#xC2A4;&#xD15C; ram0&#xC744; &#xBCF5;&#xC0AC;&#xD574;&#xC640;&#xC57C;&#xD568;<br><code>(&#xCC3E;&#xC544;&#xBCF4;&#xAE30;)</code> dd&#xBA85;&#xB839;&#xC5B4;<br><a href="https://wiki.kldp.org/HOWTO/html/Adv-Bash-Scr-HOWTO/zeros.html" target="_blank">https://wiki.kldp.org/HOWTO/html/Adv-Bash-Scr-HOWTO/zeros.html</a></p>
<h3 id="972-kernel-&#xC218;&#xC815;">9.7.2 kernel &#xC218;&#xC815;</h3>
<ul>
<li>&#xCEE4;&#xB110; .config &#xC218;&#xC815; (1GB &#xB7A8;&#xB514;&#xC2A4;&#xD06C;&#xB97C; &#xC9C0;&#xC6D0;&#xD558;&#xAE30; &#xC704;&#xD574;&#xC11C;)</li>
</ul>
<pre><code class="lang-sh">CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_COUNT=16
CONFIG_BLK_DEV_RAM_SIZE=1048576
</code></pre>
<p><code>(&#xCC38;&#xACE0;)</code>menuconfig &#xC774;&#xC6A9; &#xBC29;&#xBC95;  </p>
<pre><code class="lang-sh"><span class="hljs-variable">$#</span> make menuconfig
Device Drivers ---&gt;
 <span class="hljs-string">&apos;Block devices-&gt;&apos;</span> &#xC120;&#xD0DD;
&lt;*&gt; RAM block device support &#xC5D0;&#xC11C; space bar x 2
(16) Default number of RAM disks (NEW)
(1048576) Default RAM disk size (kbytes) (NEW)
</code></pre>
<ul>
<li>&#xCEE4;&#xB110; &#xBE4C;&#xB4DC;</li>
</ul>
<pre><code class="lang-sh"> $ make mrproper
 $ make menuconfig // &#xC704; &#xCC38;&#xACE0;
 $ make
 $ cp -v arch/x86/boot/bzImage /mnt/USB/boot/vmlinuz-3.19-lfs-7.7
 $ cp -v System.map /boot/System.map-3.19
</code></pre>
<h3 id="973-grubcfg-&#xC218;&#xC815;-&#xBC0F;-&#xBD80;&#xD305;">9.7.3 grub.cfg &#xC218;&#xC815; &#xBC0F; &#xBD80;&#xD305;</h3>
<p>&#xCEE4;&#xB110; &#xC774;&#xBBF8;&#xC9C0;&#xC640; &#xC555;&#xCD95;&#xB41C; &#xB7A8;&#xB514;&#xC2A4;&#xD06C;&#xB97C; grub&#xC5D0; &#xB9DE;&#xAC8C; &#xC124;&#xC815;&#xD574;&#xC90C;  </p>
<pre><code class="lang-sh">/boot/vmlinuz-3.19-lfs-7.7 root=/dev/ram0 ro quiet splash  
initrd /boot/ramdisk.gz
</code></pre>
<h3 id="974-fstab&#xC218;&#xC815;">9.7.4 fstab&#xC218;&#xC815;</h3>
<pre><code class="lang-patch"><span class="hljs-deletion">- /dev/sdb5      /            ext4     defaults            1     1</span>
<span class="hljs-addition">+ /dev/ram0      /            ext4     defaults            1     1</span>
</code></pre>
<p>&#xC774;&#xD6C4; &#xBD80;&#xD305;&#xC644;&#xB8CC;<br><code>$ free -h</code> &#xB85C; memory&#xD655;&#xC778;  </p>
<p><code>(&#xCC38;&#xC870;&#xC0AC;&#xC774;&#xD2B8;)</code><br><a href="https://wiki.kldp.org/HOWTO/html/Bootdisk-HOWTO/buildroot.html" target="_blank">https://wiki.kldp.org/HOWTO/html/Bootdisk-HOWTO/buildroot.html</a> (&#xB8E8;&#xD2B8;&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;&#xC81C;&#xC791;)<br><a href="http://hulryung.tistory.com/204" target="_blank">http://hulryung.tistory.com/204</a> (&#xB8E8;&#xD2B8;&#xD30C;&#xC77C;&#xC2DC;&#xC2A4;&#xD15C;)<br><a href="https://cms.kut.ac.kr/user/joo/IFC412/IFC412_09.pdf" target="_blank">https://cms.kut.ac.kr/user/joo/IFC412/IFC412_09.pdf</a> (ramdisk F/S &#xBC0F; &#xCEF4;&#xD30C;&#xC77C;)<br><a href="http://egloos.zum.com/furmuwon/v/11145268" target="_blank">http://egloos.zum.com/furmuwon/v/11145268</a> (initrd initramfs &#xCC28;&#xC774;&#xC810;)<br><a href="http://www.iamroot.org/xe/QnA/60940" target="_blank">http://www.iamroot.org/xe/QnA/60940</a> (initramfs)<br><a href="https://wiki.gentoo.org/wiki/GRUB2_Quick_Start/ko" target="_blank">https://wiki.gentoo.org/wiki/GRUB2_Quick_Start/ko</a> (grub2&#xAD00;&#xB828;)</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="8_Making_the_LFS_System_Bootable.html" class="navigation navigation-prev " aria-label="Previous page: 8. Making the LFS System Bootable">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="pilfs/pilfs.html" class="navigation navigation-next " aria-label="Next page: 10. LFS on RaspberryPI">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"9. The End","level":"2.13","depth":1,"next":{"title":"10. LFS on RaspberryPI","level":"3.1","depth":1,"path":"markdowns/pilfs/pilfs.md","ref":"markdowns/pilfs/pilfs.md","articles":[]},"previous":{"title":"8. Making the LFS System Bootable","level":"2.12","depth":1,"path":"markdowns/8_Making_the_LFS_System_Bootable.md","ref":"markdowns/8_Making_the_LFS_System_Bootable.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"BASE_URL":"http://soopsaram.com/lfs"},"plugins":["ga","simple-page-toc","disqus","back-to-top-button","edit-link","github"],"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"jihuun"},"github":{"url":"https://github.com/jihuun/lfs"},"simple-page-toc":{"maxDepth":2,"skipFirstH1":true},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"ga":{"configuration":"auto","token":""},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit","base":"https://github.com/jihuun/lfs/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"markdowns/9_The_End.md","mtime":"2019-08-31T03:16:35.769Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-08-31T03:17:20.361Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

